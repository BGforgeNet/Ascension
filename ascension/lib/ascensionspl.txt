ALWAYS
INCLUDE ~ascension/lib/headercode.tpa~

COPY_EXISTING ~BALTH07.spl~ ~override~  //Greater Malison ability
 WRITE_LONG 0x18 (BIT10 | BIT11)
 LPF DELETE_EFFECT //glow pulse
 INT_VAR
  check_globals = 0
  check_headers = 1
  match_opcode = 50
 END
 
 LPF DELETE_EFFECT //Slow Target
 INT_VAR
  check_globals = 0
  check_headers = 1
  match_opcode = 40
 END
BUT_ONLY

COPY_EXISTING ~DGWHIRL.spl~ ~override~  //Mellisan's Scripted Wingbuffet/Whirlwind
 WRITE_BYTE 0x34 0     //Spell Level
 
 LPF ALTER_EFFECT      //Patch Sleep Effect
  check_globals = 0
  check_headers = 1
  match_opcode = 39
  duration = 2
  timing = 3
  power = 0
 END
 
 LPF ALTER_EFFECT      //Patch Wing Buffet
  check_globals = 0
  check_headers = 1
  match_opcode = 235
  timing = 3
  power = 0
  parameter1 = 1  
 END
 
 LPF ALTER_EFFECT      //Patch Damage
  check_globals = 0
  check_headers = 1
  match_opcode = 12
  power = 0  
 END
BUT_ONLY

COPY_EXISTING ~MELIS02.spl~ ~override~ //Blade Barrier
 WRITE_SHORT 0x1c 2    //Spell Type
 
 LPF DELETE_EFFECT //Modify Script State
 INT_VAR
  check_globals = 0
  check_headers = 1
  match_opcode = 282
 END
BUT_ONLY

COPY_EXISTING ~MELIS02B.spl~ ~override~ //Alt Blade Barrier
 LPF ALTER_EFFECT
 INT_VAR
  check_globals = 0
  check_headers = 1
  match_savingthrow = BIT0
  savingthrow = BIT2
  savebonus = (0 - 2)
 END
BUT_ONLY
 
/* UNFINISHED COPY_EXISTING ~SPIN882.spl~ ~override~
 LPF ALTER_EFFECT
 INT_VAR
  check_globals = 0
  check_headers = 1
  match_opcode = 142
  match_dicenumber = 14
  opcode = 50
  parameter1 = 
  parameter2 = 30
  dicenumber = 0
 END 
BUT_ONLY */

COPY_EXISTING ~SPPR701.spl~ ~override~ //Shield of the Archons
 LPF ADD_SPELL_EFFECT  //Display Spell Deflection Icon
 INT_VAR
  opcode = 142
  target = 1
  power = 7
  parameter2 = 123
  dispel_resist = 2
  duration = 252
  probability1 = 100
  header = 1
  insert_point = -1
 END
 
 LPF ADD_SPELL_EFFECT  //Display Spell Deflection Icon
 INT_VAR
  opcode = 142
  target = 1
  power = 7
  parameter2 = 123
  dispel_resist = 2
  duration = 270
  probability1 = 100
  header = 2
  insert_point = -1
 END
 
 LPF ADD_SPELL_EFFECT  //Display Spell Deflection Icon
 INT_VAR
  opcode = 142
  target = 1
  power = 7
  parameter2 = 123
  dispel_resist = 2
  duration = 288
  probability1 = 100
  header = 3
  insert_point = -1
 END
 
 LPF ADD_SPELL_EFFECT  //Display Spell Deflection Icon
 INT_VAR
  opcode = 142
  target = 1
  power = 7
  parameter2 = 123
  dispel_resist = 2
  duration = 306
  probability1 = 100
  header = 4
  insert_point = -1
 END

 LPF ADD_SPELL_EFFECT  //Display Spell Deflection Icon
 INT_VAR
  opcode = 142
  target = 1
  power = 7
  parameter2 = 123
  dispel_resist = 2
  duration = 324
  probability1 = 100
  header = 5
  insert_point = -1
 END

 LPF ADD_SPELL_EFFECT  //Display Spell Deflection Icon
 INT_VAR
  opcode = 142
  target = 1
  power = 7
  parameter2 = 123
  dispel_resist = 2
  duration = 324
  probability1 = 100
  header = 6
  insert_point = -1
 END

 LPF ADD_SPELL_EFFECT  //Display Spell Deflection Icon
 INT_VAR
  opcode = 142
  target = 1
  power = 7
  parameter2 = 123
  dispel_resist = 2
  duration = 360
  probability1 = 100
  header = 7
  insert_point = -1
 END
BUT_ONLY


























END